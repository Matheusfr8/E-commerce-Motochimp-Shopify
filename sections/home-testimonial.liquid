{% assign nav				= section.settings.owl_navigation  %}
{% assign margin			= section.settings.owl_margin  %}
{% assign autoplay			= section.settings.owl_autoplay  %}
{% assign autospeed			= section.settings.owl_autoplay_speed  %}
{% assign speed				= section.settings.owl_speed  %}
<div class="widget-testimonial-slide {% if section.settings.show_dot %}show_dot{% endif %}">
  <div class="{% if section.settings.container_full %}container-full{% else %}container{% endif %}">
    <div class="widget-testimonial row">
      <div class="image-banner banners">
        <div class="image">
          {% if section.settings.link != blank %}
          <a href="{{ section.settings.link }}" title="{{ section.settings.image.alt | default: shop.name }}">
          {% endif %}
            {% if section.settings.image != blank %}
            <img class="img-responsive lazyload" data-sizes="auto" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="{{ section.settings.image | img_url: 'master' }}" alt="{{ section.settings.image.alt | default: shop.name }}"/>
            {% else %}
            <img class="img-responsive lazyload" data-sizes="auto" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="//placehold.it/1003x668" alt="{{ shop.name }}" />
            {% endif %}
          {% if section.settings.link != blank %}
          </a>
          {% endif %}
        </div>
      </div>
      <div class="testimonial">
        <div class="ss-carousel ss-owl client-carousel">
          <div class="owl-carousel" 
               {% if settings.enable_rtl %}data-rtl="true"{% endif %}
               data-nav		="false" 
               data-dots		="true"
               data-margin		="0"
               data-autoplay	="true" 
               data-autospeed	="2533" 
               data-speed		="2533"
               data-column1	="1" 
               data-column2	="1" 
               data-column3	="1" 
               data-column4	="1" 
               data-column5	="1">
            {% for block in section.blocks %}
            {% if block.settings.user != blank %}
            <div class="item">
              <div class="info">
                <div class="client-image">
                  {% if block.settings.image != blank %}
                  <img class="img-responsive" alt="{{ block.settings.image.alt | default: shop.name }}" src="{{ block.settings.image | img_url:'100x100',crop:'center' }}" />
                  {% else %}
                  <img class="img-responsive" alt="{{ shop.name }}" src="//placehold.it/100x100" />
                  {% endif %}                 
                </div>
                
                <div class="client-info">
                    <p class="client-name">{% if  block.settings.client_name != '' %}{{ block.settings.client_name }}{% endif %}</p>
                    <p class="client-position">{% if  block.settings.client_position != '' %}{{ block.settings.client_position }}{% endif %}</p>
                </div>
                
                {% if  block.settings.client_quote != '' %}
                <p class="client-quote">
                  {{ block.settings.client_quote }}
                </p>
                {% endif %}
              </div>
            </div>
            {% endif %}
            {% else %}
            {% for product in (1..2) %}
            <div style="padding: 10px;" class="item">     
              <div class="info">
                <div class="client-image">
                  {% if block.settings.image != blank %}
                  <img class="img-responsive" alt="{{ block.settings.image.alt | default: shop.name }}" src="{{ block.settings.image | img_url:'master' }}" />
                  {% else %}
                  <img class="img-responsive" alt="{{ shop.name }}" src="//placehold.it/90x90" />
                  {% endif %}                 
                </div>
                <div class="client-info">
                  <div class="client-name">John</div>
                  <div class="client-position">Manager</div>
                </div>
              </div>
              <p class="client-quote">
                “Duis aliquam, magna ac fermentum are finibus, orci viverra risus, non into varius tellus tortor sed eros. Sed pharetra ante sit amet suscipit ornare”
              </p> 
            </div>
            {% endfor %}
            {% endfor %}
          </div>
        </div>  
      </div>
    </div>
  </div>  
</div>


{% schema %}
{
	"name": "Testimonial",
	"class": "home-section",
	"settings":[
        {
            "type": "header",
            "content": "Testimonial Settings"
        },
        {
          "type": "checkbox",
          "id": "container_full",
          "label": "Show Container Full ?",
          "default": true
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        },
		{
          "type": "header",
          "content": "Owl Settings"
        },
        {
          "type": "checkbox",
          "id": "owl_navigation",
          "label": "Show navigation",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "show_dot",
          "label": "Show dot",
          "default": true
        },
        {
          "type": "text",
          "id": "owl_margin",
          "label": "Margin Item",
          "default": "30"
        },
        {
          "type": "checkbox",
          "id": "owl_autoplay",
          "label": "Owl Auto Play",
          "default": false
        },
        {
          "type": "text",
          "id": "owl_autoplay_speed",
          "label": "Owl Auto Play speed",
          "info": "Default: 10000(ms)",
          "default": "10000"
        },
        {
          "type": "text",
          "id": "owl_speed",
          "label": "Owl Speed",
          "info": "Slide/Fade animation speed",
          "default": "300"
        }
	],
 "blocks": [
        {
            "type": "testimonial",
            "name": "Client",
            "settings": [
                  {
                    "type": "header",
                    "content": "Client"
                  },
                  {
                    "type": "checkbox",
                    "id": "user",
                    "label": "Display user"
                  },
                  {
                    "type": "text",
                    "id": "client_name",
                    "label": "Client Name"
                  },
                  {
                    "type": "image_picker",
                    "id": "image",
                    "label": "Client image"
                  },
                  {
                    "type": "text",
                    "id": "client_position",
                    "label": "Client's Position"
                  },
                  {
                    "type": "textarea",
                    "id": "client_quote",
                    "label": "Client Message"
                  }

            ]
        }
    ],
	"presets": [
        {
            "name": "Testimonial",
            "category": "Magentech"
        }
    ]
}
{% endschema %}
